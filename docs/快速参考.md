# Parol6-Joycon é›†æˆæ–¹æ¡ˆ - å¿«é€Ÿå‚è€ƒ

## ğŸ“Œ é¡¹ç›®æ¦‚è¿°

**ç›®æ ‡**ï¼šå°† Nintendo Joycon æ‰‹æŸ„é›†æˆåˆ° Parol6 ROS2 MoveIt æœºæ¢°è‡‚ï¼Œå®ç°ä½æˆæœ¬ã€ä¾¿æºçš„é¥æ“ä½œæ•°æ®é‡‡é›†ç³»ç»Ÿã€‚

**æ ¸å¿ƒä¼˜åŠ¿**ï¼š
- âœ… æˆæœ¬ä½ï¼šJoy-Con Â¥300-500ï¼ˆvs ä¸“ä¸šç¤ºæ•™å™¨ Â¥2000+ï¼‰
- âœ… ä¾¿æºæ€§ï¼šæ— çº¿è“ç‰™ï¼Œ6è‡ªç”±åº¦å§¿æ€æ§åˆ¶
- âœ… å¯è¡Œæ€§ï¼šå·²éªŒè¯ï¼ˆPanda/Sawyer/UR/SO100ï¼‰
- âœ… ç²¾åº¦é«˜ï¼šParol6 é‡å¤ç²¾åº¦ 0.08mm

---

## ğŸ¯ ç³»ç»Ÿæ¶æ„ï¼ˆ7å±‚ï¼‰

```
Joy-Con æ‰‹æŸ„ ğŸ”µ
    â†“ è“ç‰™
å§¿æ€è§£ç®— ğŸŸ  (joycon-robotics)
    â†“ [x,y,z,r,p,y]
ROS2é€‚é… ğŸŸ¢ (Joyconé¥æ“ä½œèŠ‚ç‚¹)
    â†“ /target_pose
è¿åŠ¨è§„åˆ’ ğŸŸ£ (MoveIt2)
    â†“ å…³èŠ‚è½¨è¿¹
æœºå™¨äººæ§åˆ¶ ğŸ©· (Parol6é©±åŠ¨)
    â†“ USBä¸²å£
ç¡¬ä»¶æ‰§è¡Œ ğŸ”´ (Parol6æœºæ¢°è‡‚)

æ•°æ®é‡‡é›† ğŸŸ¡ (è½¨è¿¹è®°å½•å™¨+ç›¸æœº)
    â†“ HDF5æ•°æ®é›†
```

**æ€§èƒ½æŒ‡æ ‡**ï¼š
- ç«¯åˆ°ç«¯å»¶è¿Ÿï¼š<50ms
- æ§åˆ¶é¢‘ç‡ï¼š100Hz
- æ•°æ®é‡‡é›†ï¼š100Hzï¼ˆå…¼å®¹ACT/æ‰©æ•£ç­–ç•¥ï¼‰

---

## ğŸ“ å®Œæ•´æ–‡æ¡£åˆ—è¡¨

### 1. **æ¶æ„å›¾**ï¼ˆDrawIOï¼‰
ğŸ“„ `docs/parol6_joycon_architecture.drawio`

**å†…å®¹**ï¼š
- 7å±‚å®Œæ•´æ¶æ„å¯è§†åŒ–
- æ‰€æœ‰æ¨¡å—ã€è¿çº¿ã€å‚æ•°å…¨éƒ¨ä¸­æ–‡æ ‡æ³¨
- æŠ€æœ¯æ„Ÿé…è‰²ï¼ˆMaterial Designï¼‰
- é›¶é®æŒ¡ä¼˜åŒ–å¸ƒå±€

**æŸ¥çœ‹æ–¹å¼**ï¼š
```bash
# åœ¨çº¿ç‰ˆï¼ˆæ¨èï¼‰
https://app.diagrams.net/
â†’ æ–‡ä»¶ â†’ æ‰“å¼€ â†’ é€‰æ‹©è¯¥æ–‡ä»¶

# VSCode
å®‰è£… "Draw.io Integration" æ’ä»¶
```

---

### 2. **æ¶æ„æŒ‡å—**ï¼ˆ60+é¡µæ·±åº¦æ–‡æ¡£ï¼‰
ğŸ“„ `docs/architecture_guide.md`

**å†…å®¹**ï¼š
- é…è‰²æ–¹æ¡ˆå’Œè®¾è®¡è¯´æ˜
- 7å±‚æ¶æ„è¯¦ç»†è§£æ
- æ–‡ä»¶åã€ç±»åã€å‡½æ•°åå®Œæ•´åˆ—è¡¨
- é…ç½®å‚æ•°è¯¦è§£
- æ•°æ®æµåˆ†æï¼ˆæ§åˆ¶/åé¦ˆ/é‡‡é›†ï¼‰
- æ€§èƒ½æŒ‡æ ‡å’Œå®‰å…¨å»ºè®®

**æ ¸å¿ƒç« èŠ‚**ï¼š
1. è®¾è®¡è¯´æ˜ï¼ˆé…è‰²/å¸ƒå±€/è¿çº¿ï¼‰
2. æ¨¡å—è¯¦è§£ï¼ˆæ¯å±‚çš„æ–‡ä»¶å’Œå‡½æ•°ï¼‰
3. æ•°æ®æµè¯¦è§£ï¼ˆ3ç§æ•°æ®æµï¼‰
4. DrawIO ä½¿ç”¨æŒ‡å—
5. æ€§èƒ½å’Œå®‰å…¨

---

### 3. **æ–‡æ¡£ä¸­å¿ƒ**ï¼ˆå¯¼èˆªç´¢å¼•ï¼‰
ğŸ“„ `docs/README.md`

**å†…å®¹**ï¼š
- å¿«é€Ÿå¼€å§‹æŒ‡å—ï¼ˆ3æ­¥ä¸Šæ‰‹ï¼‰
- æ ¸å¿ƒæ¨¡å—é€ŸæŸ¥è¡¨
- é…ç½®å‚æ•°é€ŸæŸ¥
- å¸¸è§é—®é¢˜æ’æŸ¥
- å­¦ä¹ èµ„æºæ±‡æ€»

---

## âš™ï¸ å…³é”®é…ç½®å‚æ•°

### Parol6 å·¥ä½œç©ºé—´
```yaml
å·¥ä½œç©ºé—´:
  x: [0.05, 0.40]  # ç±³
  y: [-0.35, 0.35]
  z: [0.05, 0.50]

åˆå§‹ä½å§¿: [0.25, 0.0, 0.2, 0.0, 0.0, 0.0]
```

### Joycon æ˜ å°„
```yaml
æ¬§æ‹‰è§’åè½¬: [1, -1, 1]
æ–¹å‘åè½¬: [-1, 1, 1]
åç§»æ¬§æ‹‰è§’: [0, -3.14159, 0]
```

### æ§åˆ¶å‚æ•°
```yaml
æœ€å¤§é€Ÿåº¦ç¼©æ”¾: 0.3
æœ€å¤§åŠ é€Ÿåº¦ç¼©æ”¾: 0.3
è‡ªç”±åº¦é€Ÿåº¦: [1.0, 1.0, 1.0, 1.2, 1.2, 1.5]
```

---

## ğŸš€ 8å‘¨å®æ–½è·¯çº¿

| å‘¨æ¬¡ | ä»»åŠ¡ | å…³é”®æ–‡ä»¶ |
|------|------|----------|
| **ç¬¬1-2å‘¨** | ROS2é€‚é…å±‚å¼€å‘ | `joycon_teleop_node.py`<br>`parol6_config.yaml` |
| **ç¬¬3-4å‘¨** | è¿åŠ¨è§„åˆ’é›†æˆ | `parol6_moveit_config/`<br>åŸºç¡€é¥æ“ä½œæµ‹è¯• |
| **ç¬¬5-6å‘¨** | æ•°æ®é‡‡é›†åŠŸèƒ½ | `trajectory_recorder.py`<br>`camera_node.py`<br>`dataset_manager.py` |
| **ç¬¬7-8å‘¨** | ä¼˜åŒ–å’Œæµ‹è¯• | æ€§èƒ½è°ƒä¼˜<br>å®‰å…¨éªŒè¯ |
| **ç¬¬9å‘¨+** | æ¨¡ä»¿å­¦ä¹ è®­ç»ƒ | ACT/æ‰©æ•£ç­–ç•¥/VLA |

---

## ğŸ”‘ æ ¸å¿ƒä»£ç ç»“æ„

### å§¿æ€è§£ç®—å±‚ï¼ˆå·²å®Œæˆï¼‰
```python
# joyconrobotics/joyconrobotics.py
from joyconrobotics import JoyconRobotics

jr = JoyconRobotics(
    device="right",
    glimit=workspace_limits,
    offset_position_m=[0.25, 0.0, 0.2],
    offset_euler_rad=[0, -math.pi, 0],
    euler_reverse=[1, -1, 1],
    direction_reverse=[-1, 1, 1],
    pure_xz=False
)

pose, gripper, button = jr.get_control()
# pose: [x, y, z, roll, pitch, yaw]
# gripper: 0.0~1.0
# button: -1(Yé”®)/0/1(Aé”®)/8(Homeé”®)
```

### ROS2é€‚é…å±‚ï¼ˆå¾…å¼€å‘ï¼‰
```python
# parol6_joycon_teleop/joycon_teleop_node.py
class JoyconTeleopNode(Node):
    def __init__(self):
        self.joycon = JoyconRobotics(...)
        self.pose_pub = self.create_publisher(
            PoseStamped, '/target_pose', 10
        )
        self.create_timer(0.01, self.timer_callback)

    def timer_callback(self):
        pose, gripper, button = self.joycon.get_control()
        # åæ ‡è½¬æ¢
        # å·¥ä½œç©ºé—´æ£€æŸ¥
        # å‘å¸ƒåˆ°MoveIt2
```

### æ•°æ®é‡‡é›†å±‚ï¼ˆå¾…å¼€å‘ï¼‰
```python
# parol6_data_collection/trajectory_recorder.py
class TrajectoryRecorder:
    def record_step(self, observation, action, gripper):
        self.data['observations'].append(observation)
        self.data['actions'].append(action)
        self.data['gripper'].append(gripper)

    def save_episode(self, episode_id):
        filename = f"episode_{episode_id:03d}.hdf5"
        with h5py.File(filename, 'w') as f:
            f.create_dataset('observations', data=...)
            f.create_dataset('actions', data=...)
```

---

## ğŸ“š ç›¸å…³é¡¹ç›®ä»‹ç»

### 1. **joycon-robotics** - å§¿æ€è§£ç®—åº“
- **åœ°å€**: https://github.com/box2ai-robotics/joycon-robotics
- **åŠŸèƒ½**: è“ç‰™è¿æ¥ã€6DOFå§¿æ€è§£ç®—ã€æŒ‰é”®å¤„ç†
- **æ”¯æŒ**: Ubuntu 20.04/22.04ï¼Œä¸æ”¯æŒè™šæ‹Ÿæœº

### 2. **RLBench_ACT** - Sawyerä»¿çœŸ
- **åœ°å€**: https://github.com/Boxjod/RLBench_ACT
- **åŠŸèƒ½**: CoppeliaSimä»¿çœŸ + ACTè®­ç»ƒ
- **ç”¨é€”**: ç®—æ³•éªŒè¯ã€æ— çœŸå®æœºå™¨äººç¯å¢ƒ

### 3. **robosuite-joycon** - Pandaä»¿çœŸ
- **åœ°å€**: https://github.com/box2ai-robotics/robosuite-joycon
- **åŠŸèƒ½**: MuJoCoä»¿çœŸ + å•åŒè‡‚æ§åˆ¶
- **ç‰¹ç‚¹**: å…‰åº¦æ¸²æŸ“ã€å¤šæ§åˆ¶å™¨æ”¯æŒ

### 4. **lerobot-joycon** - SO100çœŸæœºï¼ˆæ—§ç‰ˆï¼‰
- **åœ°å€**: https://github.com/box2ai-robotics/lerobot-joycon
- **åŠŸèƒ½**: LeRobotæ¡†æ¶ + æœ¬åœ°æ•°æ®é‡‡é›†
- **ç‰¹ç‚¹**: å›ºå®šä¸²å£æ˜ å°„ã€Diffusion Transformer

### 5. **lerobot-joycon2** - VLAæ”¯æŒï¼ˆæ–°ç‰ˆï¼‰
- **åœ°å€**: https://github.com/box2ai-robotics/lerobot-joycon2
- **åŠŸèƒ½**: SmolVLAå¾®è°ƒ + è§†è§‰-è¯­è¨€-åŠ¨ä½œ
- **ç”¨é€”**: å¤šæ¨¡æ€æ¨¡å‹è®­ç»ƒ

---

## ğŸ›¡ï¸ å®‰å…¨ç¬¬ä¸€

### è½¯é™ä½ï¼ˆå¿…é¡»ï¼‰
```yaml
å®‰å…¨é™ä½:
  ä½ç½®:
    x: [0.10, 0.35]  # æ¯”ç‰©ç†é™ä½ç¼©å°50mm
    y: [-0.30, 0.30]
    z: [0.10, 0.45]
  é€Ÿåº¦:
    æœ€å¤§ç¬›å¡å°”é€Ÿåº¦: 0.5  # m/s
    æœ€å¤§å…³èŠ‚é€Ÿåº¦: 1.0   # rad/s
```

### è°ƒè¯•æ­¥éª¤ï¼ˆæ¨èï¼‰
1. **ç¬¬ä¸€æ¬¡æµ‹è¯•**: `max_velocity_scaling = 0.1`ï¼ˆ10%é€Ÿåº¦ï¼‰
2. **å¯ç”¨ç¢°æ’æ£€æµ‹**: MoveIt2 PlanningScene
3. **å‡†å¤‡æ€¥åœ**: Plus/Minusé•¿æŒ‰3ç§’
4. **é€æ­¥æé€Ÿ**: 0.1 â†’ 0.3 â†’ 0.5 â†’ 1.0

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: Joy-Conæ— æ³•è¿æ¥ï¼Ÿ
```bash
# è§£å†³æ–¹æ¡ˆ
make install              # é‡æ–°å®‰è£…é©±åŠ¨
# ç³»ç»Ÿè®¾ç½® â†’ è“ç‰™ â†’ åˆ é™¤é…å¯¹
# é‡å¯ç”µè„‘ + Joy-Conå…³æœºé‡è¿
```

### Q2: å§¿æ€æ¼‚ç§»ï¼Ÿ
```python
# é•¿æŒ‰Homeé”®3ç§’é‡æ–°æ ¡å‡†
joycon.reset_joycon()

# è°ƒæ•´æ»¤æ³¢å‚æ•°
lowpassfilter_alpha_rate = 0.05  # é»˜è®¤
```

### Q3: MoveIt2è§„åˆ’å¤±è´¥ï¼Ÿ
```yaml
# æ£€æŸ¥å·¥ä½œç©ºé—´
planning_time: 5.0  # å¢åŠ è§„åˆ’æ—¶é—´
max_velocity_scaling: 0.3  # é™ä½é€Ÿåº¦
```

---

## ğŸ“ è·å–å¸®åŠ©

- **QQç¾¤**: 948755626ï¼ˆjoycon-roboticsäº¤æµï¼‰
- **Bç«™**: @ç›’å­æ¡¥æ™ºèƒ½ï¼ˆè§†é¢‘æ•™ç¨‹ï¼‰
- **GitHub Issues**: å„é¡¹ç›®ä»“åº“
- **å®˜æ–¹æ–‡æ¡£**:
  - Parol6: https://source-robotics.github.io/PAROL-docs/
  - MoveIt2: https://moveit.picknik.ai/

---

## âœ… å·²å®Œæˆå·¥ä½œæ¸…å•

### æ–‡æ¡£å®Œæˆåº¦ï¼š100%

- âœ… DrawIO æ¶æ„å›¾ï¼ˆå…¨ä¸­æ–‡ï¼‰
- âœ… æ¶æ„æŒ‡å—ï¼ˆ60+é¡µæ·±åº¦æ–‡æ¡£ï¼‰
- âœ… æ–‡æ¡£ä¸­å¿ƒï¼ˆå¯¼èˆªç´¢å¼•ï¼‰
- âœ… å¿«é€Ÿå‚è€ƒï¼ˆæœ¬æ–‡æ¡£ï¼‰
- âœ… æäº¤åˆ° Git åˆ†æ”¯

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **è´­ä¹°ç¡¬ä»¶**ï¼š
   - [ ] Nintendo Joy-Con x2ï¼ˆå»ºè®®2ä¸ªï¼‰
   - [ ] è“ç‰™é€‚é…å™¨ï¼ˆå¦‚ç”µè„‘æ— è“ç‰™ï¼‰

2. **å‡†å¤‡ç¯å¢ƒ**ï¼š
   - [ ] Ubuntu 22.04 + ROS2 Humble
   - [ ] MoveIt2 å®‰è£…
   - [ ] Parol6 ROS2åŒ…

3. **å¼€å§‹å¼€å‘**ï¼š
   - [ ] æµ‹è¯• Joy-Con è¿æ¥
   - [ ] ç¼–å†™ ROS2 é€‚é…èŠ‚ç‚¹
   - [ ] é…ç½® MoveIt2
   - [ ] å®ç°æ•°æ®é‡‡é›†

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.1
**åˆ›å»ºæ—¥æœŸ**: 2025-11-20
**ç»´æŠ¤è€…**: Claude Code

**ç¥æ‚¨é›†æˆé¡ºåˆ©ï¼å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥é˜…å®Œæ•´æ–‡æ¡£æˆ–åŠ å…¥QQç¾¤äº¤æµã€‚**
