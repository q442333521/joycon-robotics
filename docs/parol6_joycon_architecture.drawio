<mxfile host="app.diagrams.net" modified="2025-11-20T00:00:00.000Z" agent="Claude Code" etag="v1.0" version="24.0.0" type="device">
  <diagram name="Parol6-Joycon Architecture" id="architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Background -->
        <mxCell id="bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry width="1600" height="1200" as="geometry" />
        </mxCell>

        <!-- Title -->
        <mxCell id="title" value="Parol6 ROS2 MoveIt + Joycon æ•°æ®é‡‡é›†ç³»ç»Ÿæž¶æž„" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1a1a1a;" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <!-- Layer 1: Hardware Input Layer -->
        <mxCell id="layer1_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="300" height="180" as="geometry" />
        </mxCell>
        <mxCell id="layer1_title" value="ç¡¬ä»¶è¾“å…¥å±‚" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#0d47a1;" vertex="1" parent="1">
          <mxGeometry x="95" y="110" width="120" height="30" as="geometry" />
        </mxCell>

        <!-- Joy-Con Hardware -->
        <mxCell id="joycon_hw" value="&lt;b&gt;Nintendo Joy-Con&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“¡ è“ç‰™è¿žæŽ¥&lt;br&gt;âš™ï¸ 6è½´IMU (é™€èžºä»ª+åŠ é€Ÿåº¦è®¡)&lt;br&gt;ðŸŽ® 14ä¸ªæŒ‰é”® + 1ä¸ªæ‘‡æ†&lt;br&gt;ðŸ“Š æ›´æ–°çŽ‡: ~100Hz&lt;br&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;è¿žæŽ¥: L/R æŒ‰é”®è‡ªåŠ¨é‡è¿ž&lt;br&gt;æ ¡å‡†: Homeé”®é•¿æŒ‰3ç§’&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e88e5;strokeColor=#0d47a1;strokeWidth=2;fontColor=#ffffff;align=left;verticalAlign=top;spacing=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="150" width="260" height="110" as="geometry" />
        </mxCell>

        <!-- Layer 2: Pose Solver Layer -->
        <mxCell id="layer2_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="80" y="320" width="300" height="280" as="geometry" />
        </mxCell>
        <mxCell id="layer2_title" value="å§¿æ€è§£ç®—å±‚" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#e65100;" vertex="1" parent="1">
          <mxGeometry x="95" y="330" width="120" height="30" as="geometry" />
        </mxCell>

        <!-- joycon-robotics Module -->
        <mxCell id="joycon_robotics" value="&lt;b&gt;joycon-robotics åº“&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“ joyconrobotics.py&lt;br&gt;ðŸ”§ class JoyconRobotics&lt;br&gt;&lt;br&gt;æ ¸å¿ƒåŠŸèƒ½:&lt;br&gt;â€¢ get_control() â†’ pose, gripper, button&lt;br&gt;â€¢ reset_joycon() æ ¡å‡†&lt;br&gt;â€¢ set_posture_limits() å·¥ä½œç©ºé—´&lt;br&gt;&lt;br&gt;è¾“å‡ºæ ¼å¼:&lt;br&gt;pose: [x, y, z, roll, pitch, yaw]&lt;br&gt;gripper: 0.0~1.0&lt;br&gt;button: -1/0/1/8" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ff9800;strokeColor=#e65100;strokeWidth=2;fontColor=#ffffff;align=left;verticalAlign=top;spacing=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="370" width="260" height="210" as="geometry" />
        </mxCell>

        <!-- Attitude Estimator -->
        <mxCell id="attitude_est" value="&lt;b&gt;AttitudeEstimator&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“ gyro.py&lt;br&gt;ðŸ”§ update(gyro, accel)&lt;br&gt;&lt;br&gt;â€¢ äº’è¡¥æ»¤æ³¢ (Î±=0.55)&lt;br&gt;â€¢ ä½Žé€šæ»¤æ³¢ (Î±=0.05)&lt;br&gt;â€¢ Yawæ¼‚ç§»è¡¥å¿&lt;br&gt;â€¢ æ¬§æ‹‰è§’è¾“å‡º" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffb74d;strokeColor=#f57c00;strokeWidth=1.5;fontColor=#1a1a1a;align=left;verticalAlign=top;spacing=8;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="110" y="450" width="120" height="120" as="geometry" />
        </mxCell>

        <!-- Button Handler -->
        <mxCell id="button_handler" value="&lt;b&gt;ButtonEventJoyCon&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“ event.py&lt;br&gt;ðŸ”§ events()&lt;br&gt;&lt;br&gt;â€¢ Aé”®: åˆ é™¤å½•åˆ¶&lt;br&gt;â€¢ Yé”®: ä¿å­˜è½¨è¿¹&lt;br&gt;â€¢ Home: å¤ä½&lt;br&gt;â€¢ ZR: å¤¹çˆªåˆ‡æ¢" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffb74d;strokeColor=#f57c00;strokeWidth=1.5;fontColor=#1a1a1a;align=left;verticalAlign=top;spacing=8;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="240" y="450" width="110" height="120" as="geometry" />
        </mxCell>

        <!-- Layer 3: ROS2 Adaptation Layer -->
        <mxCell id="layer3_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#388e3c;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="450" y="100" width="350" height="500" as="geometry" />
        </mxCell>
        <mxCell id="layer3_title" value="ROS2 é€‚é…å±‚" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#1b5e20;" vertex="1" parent="1">
          <mxGeometry x="465" y="110" width="120" height="30" as="geometry" />
        </mxCell>

        <!-- ROS2 Teleop Node -->
        <mxCell id="ros2_teleop" value="&lt;b&gt;Joycon é¥æ“ä½œèŠ‚ç‚¹&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“ joycon_teleop_node.py&lt;br&gt;ðŸ”§ ç±» JoyconTeleopNode(Node)&lt;br&gt;&lt;br&gt;ä¸»è¦åŠŸèƒ½:&lt;br&gt;â€¢ timer_callback() @ 100Hz&lt;br&gt;â€¢ åæ ‡ç³»è½¬æ¢ (Joycon â†’ ROS)&lt;br&gt;â€¢ å·¥ä½œç©ºé—´é™åˆ¶æ£€æŸ¥&lt;br&gt;â€¢ ç¢°æ’žé¢„æµ‹&lt;br&gt;&lt;br&gt;å‘å¸ƒè¯é¢˜:&lt;br&gt;/target_pose (PoseStamped)&lt;br&gt;/gripper_command (Float64)&lt;br&gt;&lt;br&gt;è®¢é˜…è¯é¢˜:&lt;br&gt;/joint_states (JointState)&lt;br&gt;/planning_scene (PlanningScene)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66bb6a;strokeColor=#2e7d32;strokeWidth=2;fontColor=#ffffff;align=left;verticalAlign=top;spacing=10;" vertex="1" parent="1">
          <mxGeometry x="470" y="150" width="310" height="200" as="geometry" />
        </mxCell>

        <!-- Configuration Manager -->
        <mxCell id="config_mgr" value="&lt;b&gt;é…ç½®ç®¡ç†å™¨&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“ parol6_config.yaml&lt;br&gt;&lt;br&gt;Parol6 å‚æ•°:&lt;br&gt;å·¥ä½œç©ºé—´: [0.05~0.40, -0.35~0.35, 0.05~0.50]&lt;br&gt;åˆå§‹ä½å§¿: [0.25, 0.0, 0.2, 0, 0, 0]&lt;br&gt;è‡ªç”±åº¦é€Ÿåº¦: [1.0, 1.0, 1.0, 1.2, 1.2, 1.5]&lt;br&gt;å¤¹çˆª: æ‰“å¼€=1.0, å…³é—­=0.0&lt;br&gt;&lt;br&gt;Joycon æ˜ å°„:&lt;br&gt;æ¬§æ‹‰è§’åè½¬: [1, -1, 1]&lt;br&gt;æ–¹å‘åè½¬: [-1, 1, 1]&lt;br&gt;åç§»æ¬§æ‹‰è§’: [0, -Ï€, 0]&lt;br&gt;ä¿¯ä»°åŠ å€: False&lt;br&gt;çº¯XZæ¨¡å¼: False" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81c784;strokeColor=#388e3c;strokeWidth=1.5;fontColor=#1a1a1a;align=left;verticalAlign=top;spacing=8;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="470" y="370" width="310" height="210" as="geometry" />
        </mxCell>

        <!-- Layer 4: Motion Planning Layer -->
        <mxCell id="layer4_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="870" y="100" width="330" height="280" as="geometry" />
        </mxCell>
        <mxCell id="layer4_title" value="è¿åŠ¨è§„åˆ’å±‚" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#4a148c;" vertex="1" parent="1">
          <mxGeometry x="885" y="110" width="120" height="30" as="geometry" />
        </mxCell>

        <!-- MoveIt2 Module -->
        <mxCell id="moveit2" value="&lt;b&gt;MoveIt2 è¿åŠ¨è§„åˆ’&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“¦ move_group èŠ‚ç‚¹&lt;br&gt;ðŸ“ parol6_moveit_config&lt;br&gt;&lt;br&gt;æ ¸å¿ƒåŠŸèƒ½:&lt;br&gt;â€¢ é€†è¿åŠ¨å­¦æ±‚è§£ (KDL/TRAC-IK)&lt;br&gt;â€¢ è·¯å¾„è§„åˆ’ (RRT/OMPL)&lt;br&gt;â€¢ ç¢°æ’žæ£€æµ‹ (FCL)&lt;br&gt;â€¢ è½¨è¿¹ä¼˜åŒ– (æ—¶é—´å‚æ•°åŒ–)&lt;br&gt;&lt;br&gt;é…ç½®å‚æ•°:&lt;br&gt;è§„åˆ’ç»„: parol6_arm&lt;br&gt;æœ«ç«¯é“¾æŽ¥: tool0&lt;br&gt;æœ€å¤§é€Ÿåº¦ç¼©æ”¾: 0.3&lt;br&gt;æœ€å¤§åŠ é€Ÿåº¦ç¼©æ”¾: 0.3&lt;br&gt;è§„åˆ’æ—¶é—´: 5.0ç§’" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ab47bc;strokeColor=#6a1b9a;strokeWidth=2;fontColor=#ffffff;align=left;verticalAlign=top;spacing=10;" vertex="1" parent="1">
          <mxGeometry x="890" y="150" width="290" height="210" as="geometry" />
        </mxCell>

        <!-- Layer 5: Robot Control Layer -->
        <mxCell id="layer5_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="870" y="420" width="330" height="180" as="geometry" />
        </mxCell>
        <mxCell id="layer5_title" value="æœºå™¨äººæŽ§åˆ¶å±‚" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#880e4f;" vertex="1" parent="1">
          <mxGeometry x="885" y="430" width="150" height="30" as="geometry" />
        </mxCell>

        <!-- Parol6 Driver -->
        <mxCell id="parol6_driver" value="&lt;b&gt;Parol6 é©±åŠ¨èŠ‚ç‚¹&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“ parol6_driver.py&lt;br&gt;ðŸ”Œ é€šè®¯: USB (STM32F446)&lt;br&gt;&lt;br&gt;æ ¸å¿ƒåŠŸèƒ½:&lt;br&gt;â€¢ å…³èŠ‚è½¨è¿¹è·Ÿè¸ª&lt;br&gt;â€¢ å®žæ—¶ä½ç½®åé¦ˆ&lt;br&gt;â€¢ ç”µæœºé€Ÿåº¦/åŠ é€Ÿåº¦æŽ§åˆ¶&lt;br&gt;â€¢ æ€¥åœä¿æŠ¤&lt;br&gt;&lt;br&gt;è®¢é˜…è¯é¢˜:&lt;br&gt;/joint_trajectory (JointTrajectory)&lt;br&gt;&lt;br&gt;å‘å¸ƒè¯é¢˜:&lt;br&gt;/joint_states (JointState)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ec407a;strokeColor=#ad1457;strokeWidth=2;fontColor=#ffffff;align=left;verticalAlign=top;spacing=10;" vertex="1" parent="1">
          <mxGeometry x="890" y="470" width="290" height="110" as="geometry" />
        </mxCell>

        <!-- Layer 6: Hardware Execution Layer -->
        <mxCell id="layer6_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#d32f2f;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="1270" y="100" width="280" height="280" as="geometry" />
        </mxCell>
        <mxCell id="layer6_title" value="ç¡¬ä»¶æ‰§è¡Œå±‚" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#b71c1c;" vertex="1" parent="1">
          <mxGeometry x="1285" y="110" width="120" height="30" as="geometry" />
        </mxCell>

        <!-- Parol6 Robot -->
        <mxCell id="parol6_robot" value="&lt;b&gt;Parol6 æœºæ¢°è‡‚&lt;/b&gt;&lt;br&gt;&lt;br&gt;âš™ï¸ 6è½´è‡ªç”±åº¦&lt;br&gt;ðŸ“ å·¥ä½œåŠå¾„: 400mm&lt;br&gt;ðŸ‹ï¸ è´Ÿè½½: 1kg&lt;br&gt;ðŸŽ¯ é‡å¤ç²¾åº¦: 0.08mm&lt;br&gt;âš–ï¸ é‡é‡: 6kg&lt;br&gt;&lt;br&gt;ç¡¬ä»¶é…ç½®:&lt;br&gt;â€¢ æ­¥è¿›ç”µæœº x6&lt;br&gt;â€¢ è¡Œæ˜Ÿå‡é€Ÿå™¨/çš®å¸¦ä¼ åŠ¨&lt;br&gt;â€¢ STM32F446 æŽ§åˆ¶å™¨&lt;br&gt;â€¢ USB é€šè®¯æŽ¥å£&lt;br&gt;&lt;br&gt;æœ«ç«¯æ‰§è¡Œå™¨:&lt;br&gt;â€¢ å¤¹çˆª (å¯é€‰é…)&lt;br&gt;â€¢ å¿«æ¢æŽ¥å£" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ef5350;strokeColor=#c62828;strokeWidth=2;fontColor=#ffffff;align=left;verticalAlign=top;spacing=10;" vertex="1" parent="1">
          <mxGeometry x="1290" y="150" width="240" height="210" as="geometry" />
        </mxCell>

        <!-- Layer 7: Data Collection Layer -->
        <mxCell id="layer7_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff9c4;strokeColor=#f9a825;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="450" y="660" width="750" height="240" as="geometry" />
        </mxCell>
        <mxCell id="layer7_title" value="æ•°æ®é‡‡é›†å±‚" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#f57f17;" vertex="1" parent="1">
          <mxGeometry x="465" y="670" width="120" height="30" as="geometry" />
        </mxCell>

        <!-- Trajectory Recorder -->
        <mxCell id="trajectory_recorder" value="&lt;b&gt;è½¨è¿¹è®°å½•å™¨&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“ trajectory_recorder.py&lt;br&gt;ðŸ”§ ç±» TrajectoryRecorder&lt;br&gt;&lt;br&gt;åŠŸèƒ½:&lt;br&gt;â€¢ record_step() è®°å½•æ—¶é—´æ­¥&lt;br&gt;â€¢ save_episode() ä¿å­˜è½¨è¿¹&lt;br&gt;â€¢ start_new_episode() å¼€å§‹æ–°è½¨è¿¹&lt;br&gt;&lt;br&gt;æ•°æ®æ ¼å¼ (HDF5):&lt;br&gt;è§‚æµ‹å€¼: [å…³èŠ‚ä½ç½®, å…³èŠ‚é€Ÿåº¦, æœ«ç«¯ä½å§¿]&lt;br&gt;åŠ¨ä½œ: [ç›®æ ‡å…³èŠ‚ä½ç½®]&lt;br&gt;å¤¹çˆª: [å¤¹çˆªçŠ¶æ€]&lt;br&gt;æ—¶é—´æˆ³: [çº³ç§’æ—¶é—´]&lt;br&gt;&lt;br&gt;é‡‡é›†é¢‘çŽ‡: 100Hz" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffeb3b;strokeColor=#f9a825;strokeWidth=2;fontColor=#1a1a1a;align=left;verticalAlign=top;spacing=10;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="470" y="710" width="250" height="170" as="geometry" />
        </mxCell>

        <!-- Camera Module -->
        <mxCell id="camera_module" value="&lt;b&gt;ç›¸æœºæ¨¡å—&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“ camera_node.py&lt;br&gt;ðŸ”§ cv2.VideoCapture&lt;br&gt;&lt;br&gt;åŠŸèƒ½:&lt;br&gt;â€¢ RGBå›¾åƒé‡‡é›†&lt;br&gt;â€¢ æ·±åº¦å›¾é‡‡é›† (å¯é€‰)&lt;br&gt;â€¢ ç›¸æœºæ ‡å®š&lt;br&gt;&lt;br&gt;å‘å¸ƒè¯é¢˜:&lt;br&gt;/camera/image_raw&lt;br&gt;/camera/depth&lt;br&gt;&lt;br&gt;æ ¼å¼: sensor_msgs/Image" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffeb3b;strokeColor=#f9a825;strokeWidth=2;fontColor=#1a1a1a;align=left;verticalAlign=top;spacing=10;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="750" y="710" width="200" height="170" as="geometry" />
        </mxCell>

        <!-- Dataset Manager -->
        <mxCell id="dataset_manager" value="&lt;b&gt;æ•°æ®é›†ç®¡ç†å™¨&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ“ dataset_manager.py&lt;br&gt;&lt;br&gt;åŠŸèƒ½:&lt;br&gt;â€¢ æ•°æ®é›†ç»„ç»‡&lt;br&gt;â€¢ è‡ªåŠ¨ç¼–å·&lt;br&gt;â€¢ æ•°æ®éªŒè¯&lt;br&gt;â€¢ å…ƒæ•°æ®ç”Ÿæˆ&lt;br&gt;&lt;br&gt;è¾“å‡ºç»“æž„:&lt;br&gt;æ•°æ®é›†/&lt;br&gt;  â”œâ”€ episode_000.hdf5&lt;br&gt;  â”œâ”€ episode_001.hdf5&lt;br&gt;  â””â”€ metadata.json" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffeb3b;strokeColor=#f9a825;strokeWidth=2;fontColor=#1a1a1a;align=left;verticalAlign=top;spacing=10;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="980" y="710" width="200" height="170" as="geometry" />
        </mxCell>

        <!-- Connections Layer 1 to Layer 2 -->
        <mxCell id="conn1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#1976d2;strokeWidth=3;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="joycon_hw" target="joycon_robotics">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn1_label" value="è“ç‰™æ•°æ®æµ&lt;br&gt;IMU + æŒ‰é”®" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontColor=#0d47a1;labelBackgroundColor=#f5f5f5;fontStyle=1" vertex="1" connectable="0" parent="conn1">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="2" y="-8" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Connections Layer 2 to Layer 3 -->
        <mxCell id="conn2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff9800;strokeWidth=3;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="joycon_robotics" target="ros2_teleop">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn2_label" value="6è‡ªç”±åº¦ä½å§¿&lt;br&gt;[x,y,z,r,p,y]&lt;br&gt;å¤¹çˆª, æŒ‰é”®" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontColor=#e65100;labelBackgroundColor=#f5f5f5;fontStyle=1" vertex="1" connectable="0" parent="conn2">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="1" y="-20" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Connections Layer 3 to Layer 4 -->
        <mxCell id="conn3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#66bb6a;strokeWidth=3;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.3;entryDx=0;entryDy=0;" edge="1" parent="1" source="ros2_teleop" target="moveit2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn3_label" value="ROS2 è¯é¢˜&lt;br&gt;/target_pose&lt;br&gt;(PoseStamped)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontColor=#2e7d32;labelBackgroundColor=#f5f5f5;fontStyle=1" vertex="1" connectable="0" parent="conn3">
          <mxGeometry x="-0.15" y="2" relative="1" as="geometry">
            <mxPoint x="2" y="-18" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Connections Layer 4 to Layer 5 -->
        <mxCell id="conn4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ab47bc;strokeWidth=3;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moveit2" target="parol6_driver">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn4_label" value="å…³èŠ‚è½¨è¿¹&lt;br&gt;/joint_trajectory" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontColor=#6a1b9a;labelBackgroundColor=#f5f5f5;fontStyle=1" vertex="1" connectable="0" parent="conn4">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="1" y="-8" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Connections Layer 5 to Layer 6 -->
        <mxCell id="conn5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ec407a;strokeWidth=3;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="parol6_driver" target="parol6_robot">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn5_label" value="USB ä¸²å£&lt;br&gt;ç”µæœºæŒ‡ä»¤" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontColor=#ad1457;labelBackgroundColor=#f5f5f5;fontStyle=1" vertex="1" connectable="0" parent="conn5">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="1" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Feedback Connection Layer 6 to Layer 5 -->
        <mxCell id="conn6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f48fb1;strokeWidth=2;dashed=1;exitX=0;exitY=0.7;exitDx=0;exitDy=0;entryX=1;entryY=0.7;entryDx=0;entryDy=0;" edge="1" parent="1" source="parol6_robot" target="parol6_driver">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn6_label" value="å…³èŠ‚çŠ¶æ€&lt;br&gt;ä½ç½®åé¦ˆ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#c2185b;labelBackgroundColor=#f5f5f5;" vertex="1" connectable="0" parent="conn6">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="1" y="10" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Data Collection Connections -->
        <mxCell id="conn7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#fbc02d;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.2;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="ros2_teleop" target="trajectory_recorder">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn7_label" value="æŽ§åˆ¶æ•°æ®" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#f57f17;labelBackgroundColor=#f5f5f5;" vertex="1" connectable="0" parent="conn7">
          <mxGeometry x="-0.2" y="1" relative="1" as="geometry">
            <mxPoint x="-10" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="conn8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#fbc02d;strokeWidth=2;exitX=0.3;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="parol6_driver" target="trajectory_recorder">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="977" y="640" />
              <mxPoint x="595" y="640" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn8_label" value="æœºå™¨äººçŠ¶æ€" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#f57f17;labelBackgroundColor=#f5f5f5;" vertex="1" connectable="0" parent="conn8">
          <mxGeometry x="-0.4" y="1" relative="1" as="geometry">
            <mxPoint x="-20" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eceff1;strokeColor=#37474f;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="80" y="660" width="300" height="240" as="geometry" />
        </mxCell>
        <mxCell id="legend_title" value="å›¾ä¾‹è¯´æ˜Ž" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#263238;" vertex="1" parent="1">
          <mxGeometry x="95" y="670" width="100" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend_content" value="&lt;b&gt;é…è‰²æ–¹æ¡ˆ:&lt;/b&gt;&lt;br&gt;ðŸ”µ è“è‰² - ç¡¬ä»¶è¾“å…¥å±‚&lt;br&gt;ðŸŸ  æ©™è‰² - å§¿æ€è§£ç®—å±‚&lt;br&gt;ðŸŸ¢ ç»¿è‰² - ROS2é€‚é…å±‚&lt;br&gt;ðŸŸ£ ç´«è‰² - è¿åŠ¨è§„åˆ’å±‚&lt;br&gt;ðŸ”´ ç²‰çº¢ - æŽ§åˆ¶æ‰§è¡Œå±‚&lt;br&gt;ðŸ”´ çº¢è‰² - ç¡¬ä»¶æ‰§è¡Œå±‚&lt;br&gt;ðŸŸ¡ é»„è‰² - æ•°æ®é‡‡é›†å±‚&lt;br&gt;&lt;br&gt;&lt;b&gt;çº¿æ¡ç±»åž‹:&lt;/b&gt;&lt;br&gt;â”â”â” å®žçº¿: å®žæ—¶æŽ§åˆ¶æµ&lt;br&gt;â”„â”„â”„ è™šçº¿: æ•°æ®é‡‡é›†æµ&lt;br&gt;&lt;br&gt;&lt;b&gt;æ›´æ–°é¢‘çŽ‡:&lt;/b&gt;&lt;br&gt;å…¨é“¾è·¯ 100Hz å®žæ—¶æ›´æ–°" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#263238;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="100" y="710" width="260" height="170" as="geometry" />
        </mxCell>

        <!-- Info Box -->
        <mxCell id="info_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e0f2f1;strokeColor=#00695c;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="1270" y="420" width="280" height="180" as="geometry" />
        </mxCell>
        <mxCell id="info_title" value="ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#004d40;" vertex="1" parent="1">
          <mxGeometry x="1285" y="430" width="150" height="30" as="geometry" />
        </mxCell>

        <mxCell id="info_content" value="&lt;b&gt;æŽ§åˆ¶æ€§èƒ½:&lt;/b&gt;&lt;br&gt;â€¢ ç«¯åˆ°ç«¯å»¶è¿Ÿ: &amp;lt;50ms&lt;br&gt;â€¢ æŽ§åˆ¶é¢‘çŽ‡: 100Hz&lt;br&gt;â€¢ ä½ç½®ç²¾åº¦: 0.08mm (Parol6é™åˆ¶)&lt;br&gt;&lt;br&gt;&lt;b&gt;æ•°æ®é‡‡é›†èƒ½åŠ›:&lt;/b&gt;&lt;br&gt;â€¢ é‡‡é›†é¢‘çŽ‡: 100Hz&lt;br&gt;â€¢ å•è½¨è¿¹æ—¶é•¿: æ•°åˆ†é’Ÿ&lt;br&gt;â€¢ æ—¥é‡‡é›†é‡: 50-100æ¡è½¨è¿¹&lt;br&gt;&lt;br&gt;&lt;b&gt;ç³»ç»Ÿè¦æ±‚:&lt;/b&gt;&lt;br&gt;â€¢ Ubuntu 22.04 + ROS2 Humble&lt;br&gt;â€¢ è“ç‰™é€‚é…å™¨ (Bluetooth 4.0+)&lt;br&gt;â€¢ USBæŽ¥å£ (Parol6é€šè®¯)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#004d40;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="1285" y="470" width="250" height="115" as="geometry" />
        </mxCell>

        <!-- Additional Notes -->
        <mxCell id="notes_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#ff6f00;strokeWidth=2;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="1270" y="660" width="280" height="240" as="geometry" />
        </mxCell>
        <mxCell id="notes_title" value="å¼€å‘å»ºè®®" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#e65100;" vertex="1" parent="1">
          <mxGeometry x="1285" y="670" width="120" height="30" as="geometry" />
        </mxCell>

        <mxCell id="notes_content" value="&lt;b&gt;å¼€å‘é˜¶æ®µ:&lt;/b&gt;&lt;br&gt;ç¬¬1-2å‘¨: åŸºç¡€é¥æ“ä½œ&lt;br&gt;ç¬¬3-4å‘¨: å®Œæ•´6DOFæŽ§åˆ¶&lt;br&gt;ç¬¬5-6å‘¨: æ•°æ®é‡‡é›†æµç¨‹&lt;br&gt;ç¬¬7-8å‘¨: é«˜çº§åŠŸèƒ½&lt;br&gt;ç¬¬9å‘¨+: æ¨¡ä»¿å­¦ä¹ &lt;br&gt;&lt;br&gt;&lt;b&gt;å®‰å…¨å»ºè®®:&lt;/b&gt;&lt;br&gt;â€¢ ä»Žæœ€å¤§é€Ÿåº¦=0.1å¼€å§‹&lt;br&gt;â€¢ å¯ç”¨ MoveIt2 ç¢°æ’žæ£€æµ‹&lt;br&gt;â€¢ è®¾ç½®è½¯é™ä½ä¿æŠ¤&lt;br&gt;â€¢ å‡†å¤‡æ€¥åœæŒ‰é’®&lt;br&gt;&lt;br&gt;&lt;b&gt;å‚è€ƒèµ„æº:&lt;/b&gt;&lt;br&gt;â€¢ QQç¾¤: 948755626&lt;br&gt;â€¢ Bç«™: @ç›’å­æ¡¥æ™ºèƒ½&lt;br&gt;â€¢ GitHub: box2ai-robotics" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#e65100;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="1285" y="710" width="250" height="175" as="geometry" />
        </mxCell>

        <!-- Camera Connection -->
        <mxCell id="conn9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#fbc02d;strokeWidth=2;exitX=0.8;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" target="camera_module">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1035" y="580" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1035" y="640" />
              <mxPoint x="850" y="640" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn9_label" value="å›¾åƒæµ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#f57f17;labelBackgroundColor=#f5f5f5;" vertex="1" connectable="0" parent="conn9">
          <mxGeometry x="-0.3" y="1" relative="1" as="geometry">
            <mxPoint x="15" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Dataset connections -->
        <mxCell id="conn10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#fbc02d;strokeWidth=2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.3;entryDx=0;entryDy=0;" edge="1" parent="1" source="trajectory_recorder" target="dataset_manager">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn10_label" value="ä¿å­˜è½¨è¿¹" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#f57f17;labelBackgroundColor=#f5f5f5;" vertex="1" connectable="0" parent="conn10">
          <mxGeometry x="-0.2" y="1" relative="1" as="geometry">
            <mxPoint y="-8" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="conn11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#fbc02d;strokeWidth=2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.7;entryDx=0;entryDy=0;" edge="1" parent="1" source="camera_module" target="dataset_manager">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn11_label" value="å›¾åƒæ•°æ®" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#f57f17;labelBackgroundColor=#f5f5f5;" vertex="1" connectable="0" parent="conn11">
          <mxGeometry x="-0.2" y="1" relative="1" as="geometry">
            <mxPoint y="8" as="offset" />
          </mxGeometry>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
